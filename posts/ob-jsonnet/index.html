<!DOCTYPE html>
<html lang="en-us">
  <head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">

  

  
  <style type=text/css>body{font-family:monospace;}</style>
  <title>Babel in Jsonnet with ob-jsonnet.el</title>
  
  <meta name="author" content="Brett Viren">
  <link rel="stylesheet" href="https://brettviren.github.io/css/style.css">
  
  
</head>



  <body>
    <header>
    <div style="text-align: center;">
    <a href="mailto:bv@bnl.gov"><img src="https://brettviren.github.io/icons/email.svg"></a>
    <a href="mailto:brett.viren@gmail.com"><img src="https://brettviren.github.io/icons/email.svg"></a>
    <a href="https://www.phy.bnl.gov/~bviren/"><img src="https://brettviren.github.io/icons/dollar-sign.svg"></a>
    <a href="https://github.com/brettviren"><img src="https://brettviren.github.io/icons/github.svg"></a>
    <a href="https://twitter.com/brett_viren"><img src="https://brettviren.github.io/icons/twitter.svg"></a>
    <a href="https://fosstodon.org/@bv"><img src="https://brettviren.github.io/icons/matrix.svg"></a>

  
  </div>
  <div class="banner-left" style="float: left;">  
    <a href="https://brettviren.github.io/">They call me Brett</a> <br>
  </div>
  <div class="banner-right" style="float: right;">
    turning neutrinos in to bytes <br>
  </div>
  <br/>
  <hr>

  <p>

  <nav>
    <div style="text-align: center;">
    
    
    [<a href="https://brettviren.github.io/posts/"><b>Blog</b></a>]
    
    [<a href="https://brettviren.github.io/articles/"><b>Articles</b></a>]
    
    [<a href="https://brettviren.github.io/notes/"><b>Notes</b></a>]
    
    [<a href="https://brettviren.github.io/about/"><b>About</b></a>]
    
    </div>
  </nav>

</header>

    
<main>
  <article>
    <h1>Babel in Jsonnet with ob-jsonnet.el</h1>
    <b><time>Fri 8 Oct 2021</time></b>
    
    <a href="https://brettviren.github.io/tags/emacs">emacs</a>
    <img src="https://brettviren.github.io/icons/tag-12.svg">
    
    <a href="https://brettviren.github.io/tags/jsonnet">jsonnet</a>
    <img src="https://brettviren.github.io/icons/tag-12.svg">
    
    <a href="https://brettviren.github.io/tags/org">org</a>
    <img src="https://brettviren.github.io/icons/tag-12.svg">
    
    <div>
      <p>I made some <code>org-babel</code> functions for Jsonnet and it was pretty easy!</p>
<p><a href="https://git.sr.ht/~bzg/worg/tree/master/item/org-contrib/babel/ob-template.el">ob-template.el</a> is a great starting point and made for light work.</p>
<h2 id="install">Install&nbsp;<a class="headline-hash" href="#install">#</a> </h2>
<p>Download <a href="https://raw.githubusercontent.com/brettviren/ob-jsonnet/master/ob-jsonnet.el"><code>ob-jsonnet.el</code></a> to somewhere in your load path and add</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-lisp" data-lang="lisp">(<span style="color:#a6e22e">require</span> <span style="color:#e6db74">&#39;ob-jsonnet</span>)
</code></pre></div><p>And append <code>(jsonnet . t)</code> to <code>org-babel-load-languages</code>.</p>
<p>You may customize <code>org-babel-jsonnet-command</code> if the <code>jsonnet</code> command is not in your <code>$PATH</code>.</p>
<h2 id="examples">Examples&nbsp;<a class="headline-hash" href="#examples">#</a> </h2>
<p>Basic usage</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-text" data-lang="text">#+begin_src jsonnet :exports both :wrap &#34;src json&#34;
{a:42}
#+end_src
</code></pre></div><div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-json" data-lang="json">{
   <span style="color:#f92672">&#34;a&#34;</span>: <span style="color:#ae81ff">42</span>
}
</code></pre></div><p>You can also supply command line options:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-text" data-lang="text">#+begin_src jsonnet :cmdline &#34;-S&#34; :exports both :wrap &#34;example&#34;
std.join(&#34; &#34;, [&#34;hello&#34;,&#34;world&#34;])
#+end_src
</code></pre></div><div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-text" data-lang="text">&#34;hello world&#34;
</code></pre></div><p>Now, if only we had proper syntax highlighting for Jsonnet in Hugo.</p>


    </div>
  </article>
</main>

    <footer>
  <hr>

  <p>

    <img width="10px" src="https://brettviren.github.io/icons/copyleft.svg">
 2021 <a href="https://brettviren.github.io/"><b>They call me Brett</b></a>.
  </p>



</footer>

  </body>
</html>
